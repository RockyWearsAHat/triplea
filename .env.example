# ===========================================
# Triple A Apps - Shared Environment Variables
# ===========================================

# Server
MONGO_URI=mongodb://localhost:27017/triplea
JWT_SECRET=replace-with-a-long-random-secret
PORT=4000
SEED_DEMO_DATA=true

# Stripe (Payment Processing)
# Get these from your Stripe Dashboard: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Fee Configuration
# Platform service fee (Triple A Fee) - can be:
#   - Percentage: "1%" or "1.5%" (0-100 with up to 2 decimal places)
#   - Flat amount: "$1" or "$0.50" or "1" (in dollars, with or without $ sign)
# Default: 1%
PLATFORM_SERVICE_FEE=1%

# Fee charge mode - controls whether the Triple A Fee is charged:
#   - "transaction" = once per checkout (regardless of ticket count)
#   - "ticket" = per ticket purchased (multiplied by quantity)
# Default: transaction
FEE_CHARGE_ON=transaction

# Stripe processing fee (reference only - these are Stripe's actual fees)
# Percentage component: 2.9%
STRIPE_FEE_PERCENT=2.9%
# Fixed component: $0.30
STRIPE_FEE_FIXED=0.30

# Enable Stripe Tax for automatic tax calculation and remittance
# Set to "true" to enable (requires Stripe Tax to be set up in your Stripe dashboard)
# When enabled, use the /api/stripe/create-checkout-session endpoint for hosted checkout
STRIPE_TAX_ENABLED=false

# Frontend URL (used for Stripe Checkout Session redirects)
FRONTEND_URL=http://localhost:5173

# Frontend (Vite apps - must be prefixed with VITE_)
VITE_GOOGLE_MAPS_API_KEY=
VITE_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Email Configuration (nodemailer SMTP)
EMAIL_ENABLED=true
EMAIL_FROM=noreply@tripleamusic.org

# SMTP [email server] Settings
# For Gmail: host=smtp.gmail.com, port=587, secure=false, user=your@gmail.com, pass=app-password
# For Outlook: host=smtp.office365.com, port=587, secure=false
# For custom SMTP: use your provider's settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password